<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Sci on Mightu Homepage</title>
    <link>http://blog.mightu.cc/tags/sci/index.xml</link>
    <description>Recent content in Sci on Mightu Homepage</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <atom:link href="http://blog.mightu.cc/tags/sci/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Simple Outlier Removal</title>
      <link>http://blog.mightu.cc/outlier-removal-1/</link>
      <pubDate>Thu, 23 Mar 2017 00:00:00 +0000</pubDate>
      
      <guid>http://blog.mightu.cc/outlier-removal-1/</guid>
      <description>

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#org8e511e7&#34;&gt;Mean/Std Based&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#orgddb1d2a&#34;&gt;(Inter)Quartertile Based&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#orgc311e39&#34;&gt;Related&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;This is a large topic, and I will write another post to introduce it systematically, and also give more methods which are at the same time more sophisticated.&lt;/p&gt;

&lt;p&gt;The two methods in this post are both statistics-based.&lt;/p&gt;

&lt;p&gt;&lt;a id=&#34;org8e511e7&#34;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&#34;mean-std-based&#34;&gt;Mean/Std Based&lt;/h1&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;def reject_outliers(data, m=2):
    return data[abs(data - np.mean(data)) &amp;lt; m * np.std(data)]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;m usually ranges from 1.5 to 3.&lt;/p&gt;

&lt;p&gt;&lt;a id=&#34;orgddb1d2a&#34;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&#34;inter-quartertile-based&#34;&gt;(Inter)Quartertile Based&lt;/h1&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;def reject_outliers(sr, iq_range=0.5):
    pcnt = (1 - iq_range) / 2
    qlow, median, qhigh = sr.dropna().quantile([pcnt, 0.50, 1-pcnt])
    iqr = qhigh - qlow
    return sr[ (sr - median).abs() &amp;lt;= iqr]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Also, note that (\delta \approx 1.4826 MAD), where MAD is for median absolute deviation, i.e., $MAD = median \left(\ \left|X&lt;sub&gt;i&lt;/sub&gt;- median (X)\right|\ \right),\,$&lt;/p&gt;

&lt;p&gt;Or, with median and MAD, we have:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;def is_outlier(points, thresh=3.5):
    &amp;quot;&amp;quot;&amp;quot;
    Returns a boolean array with True if points are outliers and False
    otherwise.
    Parameters:
    -----------
        points : An numobservations by numdimensions array of observations
        thresh : The modified z-score to use as a threshold. Observations with
            a modified z-score (based on the median absolute deviation) greater
            than this value will be classified as outliers.
    Returns:
    --------
        mask : A numobservations-length boolean array.
    References:
    ----------
        Boris Iglewicz and David Hoaglin (1993), &amp;quot;Volume 16: How to Detect and
        Handle Outliers&amp;quot;, The ASQC Basic References in Quality Control:
        Statistical Techniques, Edward F. Mykytka, Ph.D., Editor.
    &amp;quot;&amp;quot;&amp;quot;
    if len(points.shape) == 1:
        points = points[:,None]
    median = np.median(points, axis=0)
    diff = np.sum((points - median)**2, axis=-1)
    diff = np.sqrt(diff)
    med_abs_deviation = np.median(diff)

    modified_z_score = 0.6745 * diff / med_abs_deviation

    return modified_z_score &amp;gt; thresh
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Simpler version:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;def reject_outliers(data, m = 2.):
    d = np.abs(data - np.median(data))
    mdev = np.median(d)
    s = d/mdev if mdev else 0.
    return data[s&amp;lt;m]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;These are contrasted with conventional measures of scale, such as sample variance or sample standard deviation, which are non-robust, meaning greatly influenced by outliers.&lt;/p&gt;

&lt;p&gt;&lt;a id=&#34;orgc311e39&#34;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&#34;related&#34;&gt;Related&lt;/h1&gt;

&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://en.wikipedia.org/wiki/Robust_measures_of_scale#IQR_and_MAD&#34;&gt;https://en.wikipedia.org/wiki/Robust_measures_of_scale#IQR_and_MAD&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
</description>
    </item>
    
  </channel>
</rss>